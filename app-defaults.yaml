# These are the default fragements that get added to all app definition trees.
# for example, the ext (extension) subtree contains a readiness probe fragment
# that all apps have in common the following variables are expanded 
#
#  username: The username of the user launching the app
#  identifier: A uid generated by tycho for the app instance for uniqueness
#  system_name: The name of the app
#  system_port: The port the app is listening on; there can be multiple ports and if so is undefined
ext:
  kube:
    readinessProbe:
      httpGet:
        path: "/private/{{ system_name }}/{{ username }}/{{ identifier }}"
        port: "{{ system_port }}"