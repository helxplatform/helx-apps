---
# Docker compose formatted system.
version: "3"
services:
  rstudio-server:
    image: "containers.renci.org/helxplatform/rstudio-server:latest"
    env:
      - RSTUDIO_SERVER_HOST=localhost
      - RSTUDIO_SERVER_PORT=8787
      - DELETE_DEFAULT_USER_HOME_IF_UNUSED=no
      - RSTUDIO_SERVER_BASE_PATH=/
      - RSTUDIO_LOG_LEVEL=debug
    ports:
      - 8787:8787
    volumes:
        - pvc://projects-pvc:/projects
    deploy:
        resources:
          limits:
            cpus: '2'
            memory: 2048M
          reservations:
            cpus: '.5'
            memory: 1024M
